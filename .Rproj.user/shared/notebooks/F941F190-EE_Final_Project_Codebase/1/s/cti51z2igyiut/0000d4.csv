"0","#Evan Edelstein BTM-6000 Final project "
"0",""""
"0","Study the association between poor sleep and poor health "
"0","Exposure: poor sleep "
"0","Outcome: poor health "
"0",""
"0",""""
"1","[1]"
"1"," ""\nStudy the association between poor sleep and poor health \nExposure: poor sleep \nOutcome: poor health \n\n"""
"1","
"
"0","#load libraries"
"0","library(doBy)"
"0","library(dplyr)"
"0","library(NHANES)"
"0","library(pwr)"
"0","library(nhanesA)"
"0","library(ggplot2)"
"0","library(aod)"
"0","library(ROCR)"
"0","# 1A) clean and order data "
"0","# load Nhanes data set "
"0","df <- NHANES"
"0",""
"0","#remove patients who did not fill out sleep trouble data"
"0","df<-df[which(!is.na(df$SleepTrouble)),]"
"0",""
"0","#remove kids from datafarme "
"0","df <- filter(df, Age>=18)"
"0",""
"0","# create binary class for health (0:poor | 1:healthy), white, employed and old(over 60 or not)"
"0",""
"0","df$healthy <- ifelse(df$HealthGen == ""Poor"",0,1)"
"0",""
"0","df$white <- ifelse(df$Race1 == ""White"", ""White"", ""not-white"" )"
"0",""
"0","df$emplyed <- ifelse(df$Work == ""Working"", ""Employed"", ""Unemployed"")"
"0",""
"0","df$Old <- ifelse(df$Age >= 60, ""Over60"", ""Under60"")"
"0",""
"0","#create nominal startified labels for weight class based on BMI "
"0","df$Weight_factor <- ifelse(df$BMI >= 30,""Obese"","
"0","                           ifelse(df$BMI >= 26,""Overweight"""
"0","                                  ,ifelse(df$BMI <= 18,""Underweight"",""Healthy"")))"
"0",""
"0",""
"0","#(1B) summarize,  graph and examine the data set "
"0",""
"0","#Summary of the data set "
"0","summary(df)"
"1",""
"1","       ID       "
"1","    SurveyYr   "
"1","    Gender    "
"1","      Age       "
"1","   AgeDecade   "
"1","   AgeMonths    "
"1","      Race1     "
"1","
"
"1"," Min.   :51624  "
"1"," 2009_10:3774  "
"1"," female:3795  "
"1"," Min.   :18.00  "
"1","  40-49 :1398  "
"1"," Min.   :216.0  "
"1"," Black   : 855  "
"1","
"
"1"," 1st Qu.:56908  "
"1"," 2011_12:3707  "
"1"," male  :3686  "
"1"," 1st Qu.:31.00  "
"1","  20-29 :1356  "
"1"," 1st Qu.:372.2  "
"1"," Hispanic: 427  "
"1","
"
"1"," Median :62049  "
"1","               "
"1","              "
"1"," Median :45.00  "
"1","  30-39 :1338  "
"1"," Median :529.0  "
"1"," Mexican : 640  "
"1","
"
"1"," Mean   :61900  "
"1","               "
"1","              "
"1"," Mean   :46.23  "
"1","  50-59 :1304  "
"1"," Mean   :539.3  "
"1"," White   :4982  "
"1","
"
"1"," 3rd Qu.:67003  "
"1","               "
"1","              "
"1"," 3rd Qu.:59.00  "
"1","  60-69 : 919  "
"1"," 3rd Qu.:684.0  "
"1"," Other   : 577  "
"1","
"
"1"," Max.   :71915  "
"1","               "
"1","              "
"1"," Max.   :80.00  "
"1"," (Other): 833  "
"1"," Max.   :959.0  "
"1","                "
"1","
"
"1","                "
"1","               "
"1","              "
"1","                "
"1"," NA's   : 333  "
"1"," NA's   :3863   "
"1","                "
"1","
"
"1",""
"1","      Race3     "
"1","          Education   "
"1","      MaritalStatus "
"1","        HHIncome   "
"1","  HHIncomeMid    "
"1","    Poverty     "
"1","
"
"1"," Asian   : 215  "
"1"," 8th Grade     : 451  "
"1"," Divorced    : 707  "
"1"," more 99999 :1659  "
"1"," Min.   :  2500  "
"1"," Min.   :0.000  "
"1","
"
"1"," Black   : 417  "
"1"," 9 - 11th Grade: 888  "
"1"," LivePartner : 560  "
"1"," 75000-99999: 803  "
"1"," 1st Qu.: 30000  "
"1"," 1st Qu.:1.340  "
"1","
"
"1"," Hispanic: 240  "
"1"," High School   :1517  "
"1"," Married     :3945  "
"1"," 25000-34999: 716  "
"1"," Median : 50000  "
"1"," Median :2.880  "
"1","
"
"1"," Mexican : 288  "
"1"," Some College  :2267  "
"1"," NeverMarried:1380  "
"1"," 35000-44999: 646  "
"1"," Mean   : 57560  "
"1"," Mean   :2.921  "
"1","
"
"1"," White   :2449  "
"1"," College Grad  :2098  "
"1"," Separated   : 183  "
"1"," 45000-54999: 580  "
"1"," 3rd Qu.: 87500  "
"1"," 3rd Qu.:4.970  "
"1","
"
"1"," Other   :  98  "
"1"," NA's          : 260  "
"1"," Widowed     : 456  "
"1"," (Other)    :2434  "
"1"," Max.   :100000  "
"1"," Max.   :5.000  "
"1","
"
"1"," NA's    :3774  "
"1","                      "
"1"," NA's        : 250  "
"1"," NA's       : 643  "
"1"," NA's   :643     "
"1"," NA's   :571    "
"1","
"
"1",""
"1","   HomeRooms    "
"1","  HomeOwn    "
"1","         Work     "
"1","     Weight     "
"1","     Length    "
"1","    HeadCirc   "
"1","     Height     "
"1","
"
"1"," Min.   : 1.00  "
"1"," Own  :4899  "
"1"," Looking   : 297  "
"1"," Min.   : 37.0  "
"1"," Min.   : NA   "
"1"," Min.   : NA   "
"1"," Min.   :134.5  "
"1","
"
"1"," 1st Qu.: 4.00  "
"1"," Rent :2352  "
"1"," NotWorking:2633  "
"1"," 1st Qu.: 66.8  "
"1"," 1st Qu.: NA   "
"1"," 1st Qu.: NA   "
"1"," 1st Qu.:161.5  "
"1","
"
"1"," Median : 6.00  "
"1"," Other: 180  "
"1"," Working   :4550  "
"1"," Median : 79.3  "
"1"," Median : NA   "
"1"," Median : NA   "
"1"," Median :168.8  "
"1","
"
"1"," Mean   : 6.14  "
"1"," NA's :  50  "
"1"," NA's      :   1  "
"1"," Mean   : 82.0  "
"1"," Mean   :NaN   "
"1"," Mean   :NaN   "
"1"," Mean   :168.9  "
"1","
"
"1"," 3rd Qu.: 7.00  "
"1","             "
"1","                  "
"1"," 3rd Qu.: 93.9  "
"1"," 3rd Qu.: NA   "
"1"," 3rd Qu.: NA   "
"1"," 3rd Qu.:176.1  "
"1","
"
"1"," Max.   :13.00  "
"1","             "
"1","                  "
"1"," Max.   :230.7  "
"1"," Max.   : NA   "
"1"," Max.   : NA   "
"1"," Max.   :200.4  "
"1","
"
"1"," NA's   :56     "
"1","             "
"1","                  "
"1"," NA's   :61     "
"1"," NA's   :7481  "
"1"," NA's   :7481  "
"1"," NA's   :57     "
"1","
"
"1",""
"1","      BMI       "
"1","    BMICatUnder20yrs"
"1","         BMI_WHO    "
"1","     Pulse       "
"1","    BPSysAve    "
"1","    BPDiaAve     "
"1","
"
"1"," Min.   :15.02  "
"1"," UnderWeight:  15   "
"1"," 12.0_18.5   : 147  "
"1"," Min.   : 40.00  "
"1"," Min.   : 78.0  "
"1"," Min.   :  0.00  "
"1","
"
"1"," 1st Qu.:23.96  "
"1"," NormWeight :  64   "
"1"," 18.5_to_24.9:2174  "
"1"," 1st Qu.: 64.00  "
"1"," 1st Qu.:109.0  "
"1"," 1st Qu.: 63.00  "
"1","
"
"1"," Median :27.60  "
"1"," OverWeight :  13   "
"1"," 25.0_to_29.9:2440  "
"1"," Median : 72.00  "
"1"," Median :118.0  "
"1"," Median : 70.00  "
"1","
"
"1"," Mean   :28.67  "
"1"," Obese      :  24   "
"1"," 30.0_plus   :2623  "
"1"," Mean   : 72.57  "
"1"," Mean   :120.7  "
"1"," Mean   : 69.88  "
"1","
"
"1"," 3rd Qu.:32.10  "
"1"," NA's       :7365   "
"1"," NA's        :  97  "
"1"," 3rd Qu.: 80.00  "
"1"," 3rd Qu.:129.0  "
"1"," 3rd Qu.: 77.00  "
"1","
"
"1"," Max.   :81.25  "
"1","                    "
"1","                    "
"1"," Max.   :136.00  "
"1"," Max.   :226.0  "
"1"," Max.   :116.00  "
"1","
"
"1"," NA's   :67     "
"1","                    "
"1","                    "
"1"," NA's   :265     "
"1"," NA's   :276    "
"1"," NA's   :276     "
"1","
"
"1",""
"1","     BPSys1     "
"1","     BPDia1      "
"1","     BPSys2   "
"1","     BPDia2      "
"1","     BPSys3     "
"1","     BPDia3      "
"1","
"
"1"," Min.   : 72.0  "
"1"," Min.   :  0.00  "
"1"," Min.   : 76  "
"1"," Min.   :  0.00  "
"1"," Min.   : 76.0  "
"1"," Min.   :  0.00  "
"1","
"
"1"," 1st Qu.:110.0  "
"1"," 1st Qu.: 64.00  "
"1"," 1st Qu.:110  "
"1"," 1st Qu.: 64.00  "
"1"," 1st Qu.:108.0  "
"1"," 1st Qu.: 62.00  "
"1","
"
"1"," Median :120.0  "
"1"," Median : 70.00  "
"1"," Median :118  "
"1"," Median : 70.00  "
"1"," Median :118.0  "
"1"," Median : 70.00  "
"1","
"
"1"," Mean   :121.7  "
"1"," Mean   : 70.63  "
"1"," Mean   :121  "
"1"," Mean   : 70.02  "
"1"," Mean   :120.4  "
"1"," Mean   : 69.66  "
"1","
"
"1"," 3rd Qu.:130.0  "
"1"," 3rd Qu.: 78.00  "
"1"," 3rd Qu.:130  "
"1"," 3rd Qu.: 78.00  "
"1"," 3rd Qu.:130.0  "
"1"," 3rd Qu.: 78.00  "
"1","
"
"1"," Max.   :232.0  "
"1"," Max.   :118.00  "
"1"," Max.   :226  "
"1"," Max.   :118.00  "
"1"," Max.   :226.0  "
"1"," Max.   :116.00  "
"1","
"
"1"," NA's   :538    "
"1"," NA's   :538     "
"1"," NA's   :431  "
"1"," NA's   :431     "
"1"," NA's   :410    "
"1"," NA's   :410     "
"1","
"
"1",""
"1","  Testosterone    "
"1","   DirectChol  "
"1","    TotChol      "
"1","   UrineVol1    "
"1","   UrineFlow1    "
"1","   UrineVol2    "
"1","
"
"1"," Min.   :   0.25  "
"1"," Min.   :0.39  "
"1"," Min.   : 1.530  "
"1"," Min.   :  0.0  "
"1"," Min.   : 0.000  "
"1"," Min.   :  0.0  "
"1","
"
"1"," 1st Qu.:  20.00  "
"1"," 1st Qu.:1.06  "
"1"," 1st Qu.: 4.270  "
"1"," 1st Qu.: 51.0  "
"1"," 1st Qu.: 0.430  "
"1"," 1st Qu.: 52.0  "
"1","
"
"1"," Median :  92.37  "
"1"," Median :1.29  "
"1"," Median : 4.970  "
"1"," Median : 95.0  "
"1"," Median : 0.745  "
"1"," Median : 96.0  "
"1","
"
"1"," Mean   : 218.13  "
"1"," Mean   :1.37  "
"1"," Mean   : 5.043  "
"1"," Mean   :120.5  "
"1"," Mean   : 1.022  "
"1"," Mean   :121.5  "
"1","
"
"1"," 3rd Qu.: 387.27  "
"1"," 3rd Qu.:1.60  "
"1"," 3rd Qu.: 5.690  "
"1"," 3rd Qu.:168.0  "
"1"," 3rd Qu.: 1.272  "
"1"," 3rd Qu.:171.0  "
"1","
"
"1"," Max.   :1795.60  "
"1"," Max.   :4.03  "
"1"," Max.   :13.650  "
"1"," Max.   :510.0  "
"1"," Max.   :17.167  "
"1"," Max.   :409.0  "
"1","
"
"1"," NA's   :4043     "
"1"," NA's   :405   "
"1"," NA's   :405     "
"1"," NA's   :97     "
"1"," NA's   :506     "
"1"," NA's   :6301   "
"1","
"
"1",""
"1","   UrineFlow2    "
"1"," Diabetes   "
"1","  DiabetesAge   "
"1","     HealthGen   "
"1"," DaysPhysHlthBad "
"1"," DaysMentHlthBad"
"1"," LittleInterest"
"1","
"
"1"," Min.   : 0.000  "
"1"," No  :6736  "
"1"," Min.   : 3.00  "
"1"," Excellent: 773  "
"1"," Min.   : 0.000  "
"1"," Min.   : 0.00  "
"1"," None   :5103  "
"1","
"
"1"," 1st Qu.: 0.482  "
"1"," Yes : 743  "
"1"," 1st Qu.:41.00  "
"1"," Vgood    :2161  "
"1"," 1st Qu.: 0.000  "
"1"," 1st Qu.: 0.00  "
"1"," Several:1130  "
"1","
"
"1"," Median : 0.754  "
"1"," NA's:   2  "
"1"," Median :50.00  "
"1"," Good     :2654  "
"1"," Median : 0.000  "
"1"," Median : 0.00  "
"1"," Most   : 434  "
"1","
"
"1"," Mean   : 1.128  "
"1","            "
"1"," Mean   :49.27  "
"1"," Fair     : 942  "
"1"," Mean   : 3.496  "
"1"," Mean   : 4.21  "
"1"," NA's   : 814  "
"1","
"
"1"," 3rd Qu.: 1.407  "
"1","            "
"1"," 3rd Qu.:59.00  "
"1"," Poor     : 180  "
"1"," 3rd Qu.: 3.000  "
"1"," 3rd Qu.: 4.00  "
"1","               "
"1","
"
"1"," Max.   :13.692  "
"1","            "
"1"," Max.   :80.00  "
"1"," NA's     : 771  "
"1"," Max.   :30.000  "
"1"," Max.   :30.00  "
"1","               "
"1","
"
"1"," NA's   :6303    "
"1","            "
"1"," NA's   :6864   "
"1","                 "
"1"," NA's   :778     "
"1"," NA's   :776    "
"1","               "
"1","
"
"1",""
"1","   Depressed   "
"1","  nPregnancies   "
"1","    nBabies      "
"1","   Age1stBaby   "
"1"," SleepHrsNight   "
"1"," SleepTrouble"
"1"," PhysActive"
"1","
"
"1"," None   :5246  "
"1"," Min.   : 1.000  "
"1"," Min.   : 0.000  "
"1"," Min.   :14.00  "
"1"," Min.   : 2.000  "
"1"," No :5537    "
"1"," No :3533  "
"1","
"
"1"," Several:1009  "
"1"," 1st Qu.: 2.000  "
"1"," 1st Qu.: 2.000  "
"1"," 1st Qu.:19.00  "
"1"," 1st Qu.: 6.000  "
"1"," Yes:1944    "
"1"," Yes:3948  "
"1","
"
"1"," Most   : 418  "
"1"," Median : 3.000  "
"1"," Median : 2.000  "
"1"," Median :22.00  "
"1"," Median : 7.000  "
"1","             "
"1","           "
"1","
"
"1"," NA's   : 808  "
"1"," Mean   : 3.027  "
"1"," Mean   : 2.457  "
"1"," Mean   :22.65  "
"1"," Mean   : 6.905  "
"1","             "
"1","           "
"1","
"
"1","               "
"1"," 3rd Qu.: 4.000  "
"1"," 3rd Qu.: 3.000  "
"1"," 3rd Qu.:26.00  "
"1"," 3rd Qu.: 8.000  "
"1","             "
"1","           "
"1","
"
"1","               "
"1"," Max.   :32.000  "
"1"," Max.   :12.000  "
"1"," Max.   :39.00  "
"1"," Max.   :12.000  "
"1","             "
"1","           "
"1","
"
"1","               "
"1"," NA's   :4877    "
"1"," NA's   :5065    "
"1"," NA's   :5597   "
"1"," NA's   :17      "
"1","             "
"1","           "
"1","
"
"1",""
"1"," PhysActiveDays "
"1","      TVHrsDay   "
"1","     CompHrsDay  "
"1"," TVHrsDayChild "
"1"," CompHrsDayChild"
"1"," Alcohol12PlusYr"
"1","
"
"1"," Min.   :1.000  "
"1"," 2_hr     : 918  "
"1"," 0_to_1_hr:1035  "
"1"," Min.   : NA   "
"1"," Min.   : NA    "
"1"," No  :1368      "
"1","
"
"1"," 1st Qu.:2.000  "
"1"," 3_hr     : 660  "
"1"," 0_hrs    : 824  "
"1"," 1st Qu.: NA   "
"1"," 1st Qu.: NA    "
"1"," Yes :5212      "
"1","
"
"1"," Median :3.000  "
"1"," 1_hr     : 609  "
"1"," 1_hr     : 767  "
"1"," Median : NA   "
"1"," Median : NA    "
"1"," NA's: 901      "
"1","
"
"1"," Mean   :3.679  "
"1"," More_4_hr: 527  "
"1"," 2_hr     : 459  "
"1"," Mean   :NaN   "
"1"," Mean   :NaN    "
"1","                "
"1","
"
"1"," 3rd Qu.:5.000  "
"1"," 0_to_1_hr: 483  "
"1"," 3_hr     : 255  "
"1"," 3rd Qu.: NA   "
"1"," 3rd Qu.: NA    "
"1","                "
"1","
"
"1"," Max.   :7.000  "
"1"," (Other)  : 508  "
"1"," (Other)  : 367  "
"1"," Max.   : NA   "
"1"," Max.   : NA    "
"1","                "
"1","
"
"1"," NA's   :3792   "
"1"," NA's     :3776  "
"1"," NA's     :3774  "
"1"," NA's   :7481  "
"1"," NA's   :7481   "
"1","                "
"1","
"
"1",""
"1","   AlcoholDay    "
"1","  AlcoholYear   "
"1"," SmokeNow   "
"1"," Smoke100   "
"1","      Smoke100n   "
"1","    SmokeAge    "
"1"," Marijuana  "
"1","
"
"1"," Min.   : 1.000  "
"1"," Min.   :  0.0  "
"1"," No  :1745  "
"1"," No  :4024  "
"1"," Non-Smoker:4024  "
"1"," Min.   : 6.00  "
"1"," No  :2049  "
"1","
"
"1"," 1st Qu.: 1.000  "
"1"," 1st Qu.:  3.0  "
"1"," Yes :1466  "
"1"," Yes :3211  "
"1"," Smoker    :3211  "
"1"," 1st Qu.:15.00  "
"1"," Yes :2892  "
"1","
"
"1"," Median : 2.000  "
"1"," Median : 24.0  "
"1"," NA's:4270  "
"1"," NA's: 246  "
"1"," NA's      : 246  "
"1"," Median :17.00  "
"1"," NA's:2540  "
"1","
"
"1"," Mean   : 2.914  "
"1"," Mean   : 75.1  "
"1","            "
"1","            "
"1","                  "
"1"," Mean   :17.83  "
"1","            "
"1","
"
"1"," 3rd Qu.: 3.000  "
"1"," 3rd Qu.:104.0  "
"1","            "
"1","            "
"1","                  "
"1"," 3rd Qu.:19.00  "
"1","            "
"1","
"
"1"," Max.   :82.000  "
"1"," Max.   :364.0  "
"1","            "
"1","            "
"1","                  "
"1"," Max.   :72.00  "
"1","            "
"1","
"
"1"," NA's   :2567    "
"1"," NA's   :1559   "
"1","            "
"1","            "
"1","                  "
"1"," NA's   :4401   "
"1","            "
"1","
"
"1",""
"1"," AgeFirstMarij  "
"1"," RegularMarij"
"1","  AgeRegMarij   "
"1"," HardDrugs  "
"1"," SexEver    "
"1","     SexAge     "
"1"," SexNumPartnLife  "
"1","
"
"1"," Min.   : 1.00  "
"1"," No  :3575   "
"1"," Min.   : 5.00  "
"1"," No  :4700  "
"1"," No  : 223  "
"1"," Min.   : 9.00  "
"1"," Min.   :   0.00  "
"1","
"
"1"," 1st Qu.:15.00  "
"1"," Yes :1366   "
"1"," 1st Qu.:15.00  "
"1"," Yes :1065  "
"1"," Yes :5544  "
"1"," 1st Qu.:15.00  "
"1"," 1st Qu.:   2.00  "
"1","
"
"1"," Median :16.00  "
"1"," NA's:2540   "
"1"," Median :17.00  "
"1"," NA's:1716  "
"1"," NA's:1714  "
"1"," Median :17.00  "
"1"," Median :   5.00  "
"1","
"
"1"," Mean   :17.02  "
"1","             "
"1"," Mean   :17.69  "
"1","            "
"1","            "
"1"," Mean   :17.43  "
"1"," Mean   :  15.09  "
"1","
"
"1"," 3rd Qu.:19.00  "
"1","             "
"1"," 3rd Qu.:19.00  "
"1","            "
"1","            "
"1"," 3rd Qu.:19.00  "
"1"," 3rd Qu.:  12.00  "
"1","
"
"1"," Max.   :48.00  "
"1","             "
"1"," Max.   :52.00  "
"1","            "
"1","            "
"1"," Max.   :50.00  "
"1"," Max.   :2000.00  "
"1","
"
"1"," NA's   :4590   "
"1","             "
"1"," NA's   :6115   "
"1","            "
"1","            "
"1"," NA's   :1941   "
"1"," NA's   :1756     "
"1","
"
"1",""
"1"," SexNumPartYear  "
"1"," SameSex    "
"1","      SexOrientation"
"1","  PregnantNow  "
"1","    healthy      "
"1","    white          "
"1","
"
"1"," Min.   : 0.000  "
"1"," No  :5353  "
"1"," Bisexual    : 119  "
"1"," Yes    :  72  "
"1"," Min.   :0.0000  "
"1"," Length:7481       "
"1","
"
"1"," 1st Qu.: 1.000  "
"1"," Yes : 415  "
"1"," Heterosexual:4638  "
"1"," No     :1573  "
"1"," 1st Qu.:1.0000  "
"1"," Class :character  "
"1","
"
"1"," Median : 1.000  "
"1"," NA's:1713  "
"1"," Homosexual  :  85  "
"1"," Unknown:  51  "
"1"," Median :1.0000  "
"1"," Mode  :character  "
"1","
"
"1"," Mean   : 1.342  "
"1","            "
"1"," NA's        :2639  "
"1"," NA's   :5785  "
"1"," Mean   :0.9732  "
"1","                   "
"1","
"
"1"," 3rd Qu.: 1.000  "
"1","            "
"1","                    "
"1","               "
"1"," 3rd Qu.:1.0000  "
"1","                   "
"1","
"
"1"," Max.   :69.000  "
"1","            "
"1","                    "
"1","               "
"1"," Max.   :1.0000  "
"1","                   "
"1","
"
"1"," NA's   :2553    "
"1","            "
"1","                    "
"1","               "
"1"," NA's   :771     "
"1","                   "
"1","
"
"1",""
"1","   emplyed         "
"1","     Old           "
"1"," Weight_factor     "
"1","
"
"1"," Length:7481       "
"1"," Length:7481       "
"1"," Length:7481       "
"1","
"
"1"," Class :character  "
"1"," Class :character  "
"1"," Class :character  "
"1","
"
"1"," Mode  :character  "
"1"," Mode  :character  "
"1"," Mode  :character  "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","
"
"1","                   "
"1","                   "
"1","                   "
"1","
"
"0","# plot summary statistics for sleep hours per night and BMI "
"0","avrgs <- data.frame()"
"0","sample_summary <- function(df,var,val){"
"0","  df<-df[which(!is.na(df[[var]])),]"
"0","  df_t <- df[which(df$SleepTrouble == val),]"
"0","  x <- df_t[[var]]"
"0","  mean <- mean(x)"
"0","  sd <- sd(x)"
"0","  se<- sd /(sqrt(length(x)))"
"0","  median <- median(x)"
"0","  LI <- mean - se"
"0","  UI <- mean + se"
"0","  ci <- paste (round(mean,2),""("", round(LI,2), round(UI,2),"")"")"
"0","  row <- data.frame(variable = paste(var,""_"",val), mean = ci, sd = sd , se = se, median = median)"
"0","  #print(mean)"
"0","  return(row)"
"0","}"
"0",""
"0","vars <- c(""SleepHrsNight"", ""BMI"")"
"0","for (var in vars){"
"0","  row <- sample_summary(df, var,""Yes"")"
"0","  avrgs <- rbind(avrgs, row)"
"0","  row <- sample_summary(df, var,""No"")"
"0","  avrgs <- rbind(avrgs, row)"
"0","}"
"0",""
"0","print(avrgs)"
